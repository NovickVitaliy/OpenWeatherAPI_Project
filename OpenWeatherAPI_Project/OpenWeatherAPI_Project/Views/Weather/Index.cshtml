@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Home page";
}

@model List<Entities.CityDetails>

<div class="main-content">
    <form>
        <input class="cityName" name="cityName" id="cityName" type="text" value="@ViewBag.CurrentCity"/>
        <button class="confirm-button" asp-controller="Weather" asp-action="Index">Find weather</button>
        @if (Model != null)
        {
            <h3>Choose which city exactly you are interested in</h3>
            <ul class="cities">
                @foreach (var city in Model)
                {
                    <li>
                        <a asp-controller="Weather" asp-action="WeatherInfo" asp-route-latitudeStr="@city.Latitude" asp-route-longtitudeStr="@city.Longtitude"
                           asp-route-cityName="@city.CityName" asp-route-countryName="@city.CountryName" asp-route-state="@city.State">
                            @city.CountryName, @city.State, @city.CityName
                        </a>
                    </li>
                }
            </ul>
        }
    </form>
</div>
